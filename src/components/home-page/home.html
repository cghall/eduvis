<div data-bind="ifnot: schoolDataLoaded">
    <loading></loading>
</div>

<div class="container-fluid">

    <div id="mainContent" class="container-fluid" data-bind="if: schoolDataLoaded">
        <div class="row">
            <div class="col-md-8">
                <div class="row">

                    <div class="span12">
                        <div class="panel panel-default">
                            <ul class="nav nav-tabs nav-justified">

                                <li class="dropdown active" data-bind="css: { active: isBarSelected }">
                                    <a class="dropdown-toggle" data-toggle="dropdown" href="#" aria-expanded="false"
                                       data-bind="click: selectBar">
                                        <i class="fa fa-bar-chart fa-valign pull-center"></i> Chart <span class="caret"></span>
                                    </a>
                                    <ul class="dropdown-menu dropdown-centered">
                                        <li class="active" data-bind="css: { active: verticalChart }, click: setVertical">
                                            <a href="#" data-toggle="tab" aria-expanded="true">Column Chart (vertical)</a>
                                        </li>
                                        <li class="divider"></li>
                                        <li data-bind="css: { active: !verticalChart() }, click: setHorizontal">
                                            <a href="#" data-toggle="tab">Bar Chart (horizontal)</a>
                                        </li>
                                    </ul>
                                </li>

                                <li data-bind="css: { active: isTableSelected }">
                                    <a href="#" data-toggle="tab" aria-expanded="true"
                                       data-bind="click: selectTable">
                                        <i class="fa fa-table fa-valign pull-center"></i> Table
                                    </a>
                                </li>
                                <li data-bind="css: { active: isMapSelected }">
                                    <a href="#" data-toggle="tab" aria-expanded="true"
                                       data-bind="click: selectMap">
                                        <i class="fa fa-globe fa-valign pull-center"></i> Map
                                    </a>
                                </li>

                            </ul>

                            <div class="panel-body text-center">

                                <div class="tab-content">
                                    <div class="tab-pane in" data-bind="css: { active: isBarSelected }">

                                        <chart params="isSelected: isBarSelected, verticalChart: verticalChart"></chart>

                                    </div>
                                    <div class="tab-pane" data-bind="css: { active: isTableSelected }">
                                        <div class="well well-lg" style="width:100%; height:400px;">
                                            <h3>Table view coming soon...</h3>
                                        </div>
                                    </div>
                                    <div class="tab-pane" data-bind="css: { active: isMapSelected }">

                                        <ukmap params="isSelected: isMapSelected"></ukmap>

                                    </div>
                                </div>

                            </div>

                            <div class="row">
                                <div class="col-md-9">
                                    <chart-description></chart-description>
                                </div>
                                <div class="col-md-3">
                                    <sharing></sharing>
                                </div>
                            </div>


                        </div>
                    </div>


                </div>
            </div>

            <div class="col-md-4">
                <div class="panel panel-default">
                    <selection></selection>
                    <display-options></display-options>
                    <filter></filter>
                </div>
            </div>
        </div>
    </div>
</div>
